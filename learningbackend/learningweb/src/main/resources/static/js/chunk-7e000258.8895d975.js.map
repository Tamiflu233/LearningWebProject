{"version":3,"sources":["webpack:///./src/views/admin/School/SchoolManage.vue?3f6d","webpack:///src/views/admin/School/SchoolManage.vue","webpack:///./src/views/admin/School/SchoolManage.vue?69f8","webpack:///./src/views/admin/School/SchoolManage.vue","webpack:///./src/network/admin/School.js","webpack:///./src/views/admin/School/SchoolManage.vue?89d0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticClass","formInline","model","value","callback","$$v","$set","expression","on","Search","_v","saveSchoolInfo","handleDeleteAll","slot","tableData","scopedSlots","_u","key","fn","scope","$event","handleEdit","$index","row","handleDelete","size","pageNow","total","findPage","findSize","dialogFormVisible","ref","form","rules","formLabelWidth","isDisable","Reset","Submit","staticRenderFns","name","data","search","schoolId","schoolName","refresh","dialogTableVisible","methods","findAllTableData","page","isUpdate","console","log","saveOrUpdate","$refs","validate","valid","created","component","getAllSchools","request","url","method","timeout","getAllSchoolsByPage","conditions","pageSize","schools","deleteSchoolById","params","insertSchool","school","updateSchool"],"mappings":"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","file":"js/chunk-7e000258.8895d975.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-left\":\"15px\"},attrs:{\"id\":\"school-manage\"}},[_c('el-row',{staticClass:\"manip-header\",attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":15}},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline,\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"学院号\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入学院号\",\"maxlength\":\"8\",\"show-word-limit\":\"\"},model:{value:(_vm.formInline.schoolId),callback:function ($$v) {_vm.$set(_vm.formInline, \"schoolId\", $$v)},expression:\"formInline.schoolId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"学院名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入学院名称\"},model:{value:(_vm.formInline.schoolName),callback:function ($$v) {_vm.$set(_vm.formInline, \"schoolName\", $$v)},expression:\"formInline.schoolName\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.Search}},[_vm._v(\"查询\")])],1)],1)],1),_c('el-col',{staticStyle:{\"padding-left\":\"20px\"},attrs:{\"span\":9}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.saveSchoolInfo}},[_vm._v(\"添加\")]),_c('el-popconfirm',{attrs:{\"confirm-button-text\":\"好的\",\"cancel-button-text\":\"不用了\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"确定要删除这些学院吗？\"},on:{\"confirm\":_vm.handleDeleteAll}},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"slot\":\"reference\",\"size\":\"small\",\"type\":\"danger\",\"round\":\"\"},slot:\"reference\"},[_vm._v(\"批量删除\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"95%\"},attrs:{\"height\":368,\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"70\"}}),_c('el-table-column',{attrs:{\"label\":\"学院号\",\"prop\":\"schoolId\",\"width\":\"230\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"学院名称\",\"prop\":\"schoolName\",\"width\":\"230\"}}),_c('el-table-column',{attrs:{\"label\":\"学院简介\",\"prop\":\"info\",\"width\":\"350\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-popconfirm',{attrs:{\"confirm-button-text\":\"好的\",\"cancel-button-text\":\"不用了\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"确定要删除当前学院吗？\"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-pagination',{staticStyle:{\"margin\":\"15px 0\"},attrs:{\"layout\":\"total,  sizes,prev, pager, next, jumper\",\"background\":\"\",\"page-size\":_vm.size,\"current-page\":_vm.pageNow,\"page-sizes\":[5, 10, 15, 20, 25],\"total\":_vm.total},on:{\"current-change\":_vm.findPage,\"size-change\":_vm.findSize}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"学院信息\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"schoolForm\",attrs:{\"model\":_vm.form,\"label-suffix\":\" : \",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"学院号\",\"prop\":\"schoolId\",\"label-width\":_vm.formLabelWidth,\"maxlength\":\"10\",\"show-word-limit\":\"\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请输入学院号\",\"disabled\":_vm.isDisable},model:{value:(_vm.form.schoolId),callback:function ($$v) {_vm.$set(_vm.form, \"schoolId\", $$v)},expression:\"form.schoolId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"学院名称\",\"prop\":\"schoolName\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请输入学院名称\"},model:{value:(_vm.form.schoolName),callback:function ($$v) {_vm.$set(_vm.form, \"schoolName\", $$v)},expression:\"form.schoolName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"简介\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"resize\":\"none\",\"rows\":8,\"placeholder\":\"简介...\"},model:{value:(_vm.form.info),callback:function ($$v) {_vm.$set(_vm.form, \"info\", $$v)},expression:\"form.info\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.Reset}},[_vm._v(\"重 置\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.Submit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"school-manage\" style=\"margin-left: 15px\">\r\n    <el-row class=\"manip-header\" type=\"flex\">\r\n      <el-col :span=\"15\">\r\n        <el-form\r\n          :inline=\"true\"\r\n          :model=\"formInline\"\r\n          class=\"demo-form-inline\"\r\n          size=\"small\"\r\n        >\r\n          <el-form-item label=\"学院号\">\r\n            <el-input\r\n              v-model=\"formInline.schoolId\"\r\n              clearable\r\n              placeholder=\"请输入学院号\"\r\n              maxlength=\"8\"\r\n              show-word-limit\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"学院名称\">\r\n            <el-input\r\n              v-model=\"formInline.schoolName\"\r\n              clearable\r\n              placeholder=\"请输入学院名称\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"Search\" icon=\"el-icon-search\"\r\n              >查询</el-button\r\n            >\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n      <el-col :span=\"9\" style=\"padding-left: 20px\">\r\n        <el-button @click=\"saveSchoolInfo\" type=\"primary\" size=\"small\" round\r\n          >添加</el-button\r\n        >\r\n        <el-popconfirm\r\n          confirm-button-text=\"好的\"\r\n          cancel-button-text=\"不用了\"\r\n          icon=\"el-icon-info\"\r\n          icon-color=\"red\"\r\n          title=\"确定要删除这些学院吗？\"\r\n          @confirm=\"handleDeleteAll\"\r\n        >\r\n          <el-button\r\n            size=\"small\"\r\n            type=\"danger\"\r\n            slot=\"reference\"\r\n            round\r\n            style=\"margin-left: 10px\"\r\n            >批量删除</el-button\r\n          >\r\n        </el-popconfirm>\r\n      </el-col>\r\n    </el-row>\r\n    <el-table :height=\"368\" :data=\"tableData\" style=\"width: 95%\">\r\n      <el-table-column type=\"selection\" width=\"70\"> </el-table-column>\r\n      <el-table-column label=\"学院号\" prop=\"schoolId\" width=\"230\" sortable>\r\n      </el-table-column>\r\n      <el-table-column label=\"学院名称\" prop=\"schoolName\" width=\"230\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"学院简介\"\r\n        prop=\"info\"\r\n        width=\"350\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            @click=\"handleEdit(scope.$index, scope.row)\"\r\n            style=\"margin-right: 10px\"\r\n            >编辑</el-button\r\n          >\r\n\r\n          <el-popconfirm\r\n            confirm-button-text=\"好的\"\r\n            cancel-button-text=\"不用了\"\r\n            icon=\"el-icon-info\"\r\n            icon-color=\"red\"\r\n            title=\"确定要删除当前学院吗？\"\r\n            @confirm=\"handleDelete(scope.$index, scope.row)\"\r\n          >\r\n            <el-button size=\"mini\" type=\"danger\" slot=\"reference\"\r\n              >删除</el-button\r\n            >\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-row>\r\n      <el-col :span=\"12\">\r\n        <!-- 分页组件 -->\r\n        <el-pagination\r\n          layout=\"total,  sizes,prev, pager, next, jumper\"\r\n          background\r\n          :page-size=\"size\"\r\n          :current-page=\"pageNow\"\r\n          :page-sizes=\"[5, 10, 15, 20, 25]\"\r\n          :total=\"total\"\r\n          style=\"margin: 15px 0\"\r\n          @current-change=\"findPage\"\r\n          @size-change=\"findSize\"\r\n        >\r\n        </el-pagination\r\n      ></el-col>\r\n    </el-row>\r\n\r\n    <el-dialog title=\"学院信息\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"form\" ref=\"schoolForm\" label-suffix=\" : \" :rules=\"rules\">\r\n        <el-form-item\r\n          label=\"学院号\"\r\n          prop=\"schoolId\"\r\n          :label-width=\"formLabelWidth\"\r\n          maxlength=\"10\"\r\n          show-word-limit\r\n        >\r\n          <el-input\r\n            v-model=\"form.schoolId\"\r\n            autocomplete=\"off\"\r\n            placeholder=\"请输入学院号\"\r\n            :disabled=\"isDisable\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"学院名称\"\r\n          prop=\"schoolName\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-input\r\n            v-model=\"form.schoolName\"\r\n            autocomplete=\"off\"\r\n            placeholder=\"请输入学院名称\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"简介\" :label-width=\"formLabelWidth\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"form.info\"\r\n            resize=\"none\"\r\n            :rows=\"8\"\r\n            placeholder=\"简介...\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"Reset\">重 置</el-button>\r\n        <el-button type=\"primary\" @click=\"Submit\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getAllSchoolsByPage,\r\n  deleteSchoolById,\r\n  insertSchool,\r\n  updateSchool,\r\n} from \"network/admin/School.js\";\r\nexport default {\r\n  name: \"SchoolManage\",\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      search: \"\",\r\n      isDisable: false,\r\n      form: {},\r\n      formInline: {\r\n        schoolId: \"\",\r\n        schoolName: \"\",\r\n      },\r\n      rules: {\r\n        schoolId: [\r\n          { required: true, message: \"请输入学院号!!\", trigger: \"blur\" },\r\n          { max: 8, message: \"长度不能超过8个数字!!\", trigger: \"blur\" },\r\n          {\r\n            pattern: /^[0-9]+$/,\r\n            message: \"学院号只能是数字!!\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        schoolName: [\r\n          { required: true, message: \"请填写学院名称!!\", trigger: \"blur\" },\r\n          {\r\n            pattern: /^[\\u4e00-\\u9fa5_a-zA-Z]+$/,\r\n            message: \"学院名称只能是中/英文!!\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      total: 0,\r\n      size: 5,\r\n      pageNow: 1,\r\n      refresh: false,\r\n      dialogTableVisible: false,\r\n      dialogFormVisible: false,\r\n      form: {\r\n        schoolId: \"\",\r\n        schoolName: \"\",\r\n        info: \"\",\r\n      },\r\n      formLabelWidth: \"100px\",\r\n      isUpdate: false,\r\n    };\r\n  },\r\n  methods: {\r\n    findSize(size) {\r\n      //处理每页显示记录发生变化的方法\r\n      // console.log(size);\r\n      this.size = size;\r\n      this.findAllTableData(this.pageNow, size);\r\n    },\r\n    findPage(page) {\r\n      //处理分页的相关方法\r\n      // console.log(page);\r\n      this.pageNow = page;\r\n      this.findAllTableData(page, this.size);\r\n    },\r\n    handleEdit(index, row) {\r\n      // console.log(index, row);\r\n      this.dialogFormVisible = true;\r\n      this.isDisable = true;\r\n      this.isUpdate = true;\r\n      this.form = row;\r\n    },\r\n    handleDelete(index, row) {\r\n      // console.log(index, row);\r\n      deleteSchoolById(row.schoolId)\r\n        .then((res) => {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: \"success\",\r\n          });\r\n          // console.log(this.page);\r\n          this.total -= 1;\r\n          if (this.total % this.size === 0) {\r\n            this.pageNow -= 1;\r\n            this.pageNow = this.pageNow < 1 ? 1 : this.pageNow;\r\n          }\r\n          this.findAllTableData(this.page, this.size); //刷新数据\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error(\"404错误！\");\r\n        });\r\n    },\r\n    handleDeleteAll() {\r\n      console.log(\"删除这些玩意\");\r\n    },\r\n    findAllTableData(page, size) {\r\n      page = page ? page : this.pageNow;\r\n      size = size ? size : this.size;\r\n      // console.log(\"请求数据了\");\r\n      // if (this.total % this.size === 0) {\r\n      //   this.page = this.page - 1;\r\n      //   if(this.page < 1) {\r\n      //     this.page = 1\r\n      //   }\r\n      // }\r\n      getAllSchoolsByPage(page, size, this.formInline)\r\n        .then((res) => {\r\n          // console.log(res.code);\r\n          if (res.code === 200) {\r\n            this.tableData = res.data.list;\r\n            this.total = res.data.total;\r\n\r\n            // console.log(this.tableData);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error(\"404错误！\");\r\n        });\r\n    },\r\n    saveSchoolInfo() {\r\n      this.dialogFormVisible = true;\r\n      this.form = {};\r\n      this.isDisable = false;\r\n      this.isUpdate = false;\r\n    },\r\n    Reset() {\r\n      this.form = {};\r\n    },\r\n    saveOrUpdate() {\r\n      if (this.isUpdate) {\r\n        updateSchool(this.form)\r\n          .then((res) => {\r\n            if (res.code === 200) {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: res.msg,\r\n              });\r\n              this.findAllTableData(this.pageNow, this.size);\r\n            } else {\r\n              this.$message.error(res.code + \"错误!\" + res.msg);\r\n            }\r\n            this.form = {};\r\n          })\r\n          .catch((err) => {\r\n            this.$message.error(\"404错误!请求更新学院失败！\");\r\n            this.form = {};\r\n          });\r\n      } else {\r\n        insertSchool(this.form)\r\n          .then((res) => {\r\n            if (res.code === 200) {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: res.msg,\r\n              });\r\n            } else {\r\n              this.$message.error(res.code + \"错误!\" + res.msg);\r\n            }\r\n            this.form = {};\r\n            this.findAllTableData(this.pageNow, this.size);\r\n          })\r\n          .catch((err) => {\r\n            this.$message.error(\"404错误!请求插入学院失败！\");\r\n            this.form = {};\r\n            this.findAllTableData(this.pageNow, this.size);\r\n          });\r\n      }\r\n    },\r\n    Submit() {\r\n      // console.log(\"提交数据\");\r\n      this.$refs[\"schoolForm\"].validate((valid) => {\r\n        if (valid) {\r\n          // 发送异步请求到Springboot项目\r\n          this.saveOrUpdate();\r\n          this.dialogFormVisible = false;\r\n        } else {\r\n          // console.log(\"error submit!!\");\r\n          this.$message.error(\"当前输入的数据不合法!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    Search() {\r\n      // console.log(\"查找\");\r\n      this.findAllTableData(this.pageNow, this.size);\r\n    },\r\n  },\r\n  created() {\r\n    this.findAllTableData();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.manip-header {\r\n  margin-left: 9px;\r\n  height: 51px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchoolManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchoolManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SchoolManage.vue?vue&type=template&id=0689dba0&scoped=true&\"\nimport script from \"./SchoolManage.vue?vue&type=script&lang=js&\"\nexport * from \"./SchoolManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SchoolManage.vue?vue&type=style&index=0&id=0689dba0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0689dba0\",\n  null\n  \n)\n\nexport default component.exports","import {request} from '../request';\r\n\r\nexport function getAllSchools() {\r\n  return request({\r\n    url: '/school/findAllSchools',\r\n    method: 'get',\r\n    timeout: 5000\r\n  })\r\n}\r\n\r\nexport function getAllSchoolsByPage(page,size, conditions) {\r\n  return request({\r\n    url: '/school/findSpecificSchools',\r\n    method: 'post',\r\n    data: {\r\n      pageNow: page,\r\n      pageSize: size,\r\n      schools: conditions\r\n    },\r\n    timeout: 5000\r\n  })\r\n}\r\n\r\nexport function deleteSchoolById(schoolId) {\r\n  return request({\r\n    url: '/school/deleteSchoolById',\r\n    method: 'get',\r\n    params: {\r\n      schoolId: schoolId\r\n    },\r\n    timeout: 5000\r\n  })\r\n}\r\n\r\nexport function insertSchool(school) {\r\n  return request({\r\n    url: '/school/insertSchool',\r\n    method: 'post',\r\n    data: school,\r\n    timeout: 5000\r\n  })\r\n}\r\n\r\nexport function updateSchool(school) {\r\n  return request({\r\n    url: '/school/updateSchool',\r\n    method: 'post',\r\n    data: school,\r\n    timeout: 5000\r\n  })\r\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchoolManage.vue?vue&type=style&index=0&id=0689dba0&scoped=true&lang=css&\""],"sourceRoot":""}