(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8265e19a"],{"25f0":function(e,t,s){"use strict";var a=s("6eeb"),n=s("825a"),r=s("d039"),i=s("ad6d"),o="toString",c=RegExp.prototype,u=c[o],l=r((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=o;(l||d)&&a(RegExp.prototype,o,(function(){var e=n(this),t=String(e.source),s=e.flags,a=String(void 0===s&&e instanceof RegExp&&!("flags"in c)?i.call(e):s);return"/"+t+"/"+a}),{unsafe:!0})},"44e7":function(e,t,s){var a=s("861d"),n=s("c6b6"),r=s("b622"),i=r("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==n(e))}},"4aed":function(e,t,s){},"4d63":function(e,t,s){var a=s("83ab"),n=s("da84"),r=s("94ca"),i=s("7156"),o=s("9bf2").f,c=s("241c").f,u=s("44e7"),l=s("ad6d"),d=s("9f7f"),f=s("6eeb"),m=s("d039"),p=s("69f3").set,h=s("2626"),w=s("b622"),g=w("match"),v=n.RegExp,b=v.prototype,C=/a/g,y=/a/g,x=new v(C)!==C,q=d.UNSUPPORTED_Y,_=a&&r("RegExp",!x||q||m((function(){return y[g]=!1,v(C)!=C||v(y)==y||"/a/i"!=v(C,"i")})));if(_){var $=function(e,t){var s,a=this instanceof $,n=u(e),r=void 0===t;if(!a&&n&&e.constructor===$&&r)return e;x?n&&!r&&(e=e.source):e instanceof $&&(r&&(t=l.call(e)),e=e.source),q&&(s=!!t&&t.indexOf("y")>-1,s&&(t=t.replace(/y/g,"")));var o=i(x?new v(e,t):v(e,t),a?this:b,$);return q&&s&&p(o,{sticky:s}),o},O=function(e){e in $||o($,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},F=c(v),k=0;while(F.length>k)O(F[k++]);b.constructor=$,$.prototype=b,f(n,"RegExp",$)}h("RegExp")},7156:function(e,t,s){var a=s("861d"),n=s("d2bb");e.exports=function(e,t,s){var r,i;return n&&"function"==typeof(r=t.constructor)&&r!==s&&a(i=r.prototype)&&i!==s.prototype&&n(e,i),e}},"90b9":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));s("4d63"),s("ac1f"),s("25f0"),s("5319");var a=function(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in s)if(new RegExp("(".concat(a,")")).test(t)){var r=s[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?r:n(r))}return t};function n(e){return("00"+e).substr(e.length)}},"9b2e":function(e,t,s){"use strict";s("4aed")},b444:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"tea-question-detail"}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix title",attrs:{slot:"header"},slot:"header"},[s("span",[e._v(e._s("提问："+e.question.title))]),s("el-button",{staticClass:"delete-question",attrs:{type:"danger",icon:"el-icon-delete",circle:""},nativeOn:{click:function(t){return t.preventDefault(),e.delQuestion(t)}}})],1),s("el-container",{staticClass:"detail"},[s("el-aside",{staticClass:"aside",attrs:{width:"200px"}},[s("div",{staticClass:"avatar"},[s("img",{staticClass:"avatar-img",attrs:{src:e.avatarUrl,alt:""}})]),s("div",{staticClass:"nickname"},[e._v(e._s(e.question.nickname))])]),s("el-main",{staticClass:"main"},[s("div",{staticClass:"content"},[e._v(e._s(e.question.content))]),s("div",{staticClass:"date"},[s("i",{staticClass:"el-icon-time"}),s("span",[e._v(e._s(e._f("formatDate")(e.question.publishDate)))])])])],1)],1),null==e.answer.aid?s("el-button",{staticClass:"answer-button",attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.clickAnswer(t)}}},[e._v("回答")]):e._e(),null!==e.answer.aid?s("el-card",{staticClass:"box-card"},[s("el-container",{staticClass:"detail"},[s("el-aside",{staticClass:"aside",attrs:{width:"200px"}},[s("div",{staticClass:"avatar"},[s("img",{staticClass:"avatar-img",attrs:{src:e.avatarUrl,alt:""}})]),s("div",{staticClass:"nickname"},[e._v(" "+e._s(e.question.teacher.name+"老师")+" ")])]),s("el-main",{staticClass:"main"},[s("el-button",{staticClass:"edit",attrs:{type:"primary",icon:"el-icon-edit",circle:""},nativeOn:{click:function(t){return t.preventDefault(),e.handleUpdate(t)}}}),s("el-button",{staticClass:"delete-answer",attrs:{type:"danger",icon:"el-icon-delete",circle:""},nativeOn:{click:function(t){return t.preventDefault(),e.handleDeleteAnswer(t)}}}),s("div",{staticClass:"content"},[e._v(e._s(e.answer.answerContent))]),s("div",{staticClass:"date"},[s("i",{staticClass:"el-icon-time"}),s("span",[e._v(e._s(e._f("formatDate")(e.answer.answerDate)))])])],1)],1)],1):e._e(),s("el-collapse-transition",[s("el-card",{directives:[{name:"show",rawName:"v-show",value:e.isShowed,expression:"isShowed"}],staticClass:"answer-form clearfix",attrs:{"body-style":{padding:"0px"}}},[s("el-form",{ref:"answerForm",staticClass:"clearfix",attrs:{model:e.answerForm,rules:e.rules}},[s("el-form-item",{staticClass:"form-input"},[s("el-col",{attrs:{span:23}},[s("el-input",{staticClass:"form-textarea",attrs:{type:"textarea",prop:"content",resize:"none",rows:8,placeholder:"解答..."},model:{value:e.answerForm.answerContent,callback:function(t){e.$set(e.answerForm,"answerContent",t)},expression:"answerForm.answerContent"}})],1)],1)],1),s("div",{staticClass:"form-footer"},[s("el-button",{on:{click:e.Reset}},[e._v("重 置")]),s("el-button",{attrs:{type:"primary"},on:{click:e.Submit}},[e._v("回 答")])],1)],1)],1)],1)},n=[],r=s("5530"),i=s("2f62"),o=s("f1b9"),c=s.n(o),u=s("90b9"),l=s("1bab");function d(e){return Object(l["a"])({url:"/answer/addAnswer",method:"post",data:e,timeout:5e3})}function f(e){return Object(l["a"])({url:"/answer/updateAnswer",method:"post",data:e,timeout:5e3})}function m(e,t){return Object(l["a"])({url:"/answer/deleteAnswer",method:"get",params:{aid:e,qid:t},timeout:5e3})}function p(e){return Object(l["a"])({url:"/answer/findAnswerByQid",method:"get",params:{qid:e},timeout:5e3})}function h(e){return Object(l["a"])({url:"/question/deleteQuestion",method:"get",params:{qid:e},timeout:5e3})}var w={name:"TeaQuestionDetail",data:function(){return{avatarUrl:c.a,answerForm:{},rules:{answerContent:[{required:!0,message:"请输入内容!!",trigger:"blur"}]},isShowed:!1,isUpdate:!1}},filters:{formatDate:function(e){var t=new Date(e);return Object(u["a"])(t,"yyyy-MM-dd hh:mm")}},computed:Object(r["a"])({},Object(i["c"])(["question","answer"])),methods:Object(r["a"])(Object(r["a"])({},Object(i["b"])(["saveQuestion","saveAnswer"])),{},{delQuestion:function(){var e=this;console.log("!!"),h(this.question.qid).then((function(t){200===t.code?(e.$message({type:"success",message:t.msg}),e.saveQuestion({question:null}),e.$router.go(-1)):e.$message.error(t.code+"错误!"+t.msg)})).catch((function(t){e.$message.error("404错误!请求删除问题失败！")}))},handleDeleteQuestion:function(){},handleDeleteAnswer:function(){var e=this;console.log("sdd"),m(this.answer.aid,this.answer.qid).then((function(t){200===t.code?(e.$message({type:"success",message:t.msg}),e.findQuestion()):e.$message.error(t.code+"错误!"+t.msg)})).catch((function(t){e.$message.error("404错误!请求删除回答失败！")}))},handleUpdate:function(){this.isUpdate=!0,this.isShowed=!this.isShowed},clickAnswer:function(){this.isUpdate=!1,this.isShowed=!this.isShowed},findQuestion:function(){var e=this;p(this.question.qid).then((function(t){200==t.code?(null!=t.data?e.saveAnswer({answer:t.data}):e.saveAnswer({answer:{aid:null}}),e.isShowed=!e.isShowed):e.saveAnswer({answer:{aid:null}})})).catch((function(e){console.log("获取回答失败！")}))},saveOrUpdate:function(){var e=this;this.isUpdate?(this.answerForm.aid=this.answer.aid,f(this.answerForm).then((function(t){200===t.code?(e.$message({type:"success",message:t.msg}),e.findQuestion()):e.$message.error(t.code+"错误!"+t.msg)})).catch((function(t){e.$message.error("404错误!修改请求回答失败！"),e.answerForm={}}))):(this.answerForm.qid=this.question.qid,this.answerForm.lessonId=this.question.lessonId,this.answerForm.teaId=this.question.teaId,d(this.answerForm).then((function(t){200===t.code?(e.$message({type:"success",message:t.msg}),e.findQuestion()):e.$message.error(t.code+"错误!"+t.msg),e.answerForm={}})).catch((function(t){e.$message.error("404错误!请求回答问题失败！"),e.answerForm={}})))},Reset:function(){this.answerForm={}},Submit:function(){var e=this;this.$refs["answerForm"].validate((function(t){if(!t)return e.$message.error("当前输入的数据不合法!!"),!1;e.saveOrUpdate(),e.questionForm={}}))}})},g=w,v=(s("9b2e"),s("2877")),b=Object(v["a"])(g,a,n,!1,null,"1a0a6595",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-8265e19a.ae700613.js.map