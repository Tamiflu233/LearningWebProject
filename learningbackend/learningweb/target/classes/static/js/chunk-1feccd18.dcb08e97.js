(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1feccd18"],{"37b9":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"teacher-manage"}},[a("div",{staticClass:"manip-header",staticStyle:{"margin-left":"10px"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"教师号"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入教师号",maxlength:"10","show-word-limit":""},model:{value:e.formInline.teaId,callback:function(t){e.$set(e.formInline,"teaId",t)},expression:"formInline.teaId"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.formInline.sex,callback:function(t){e.$set(e.formInline,"sex",t)},expression:"formInline.sex"}},[a("el-radio-button",{attrs:{label:"男"},nativeOn:{click:function(t){return e.clickitem("男")}}}),a("el-radio-button",{attrs:{label:"女"},nativeOn:{click:function(t){return e.clickitem("女")}}})],1)],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入姓名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),a("el-form-item",{attrs:{label:"职称"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入职称"},model:{value:e.formInline.profession,callback:function(t){e.$set(e.formInline,"profession",t)},expression:"formInline.profession"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.Search}},[e._v("查询")])],1)],1),a("el-row",[a("el-col",[a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:e.saveTeaInfo}},[e._v("添加")]),a("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定要删除这些教师吗？"},on:{confirm:e.handleDeleteAll}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",size:"small",type:"danger",round:""},slot:"reference"},[e._v("批量删除")])],1)],1)],1)],1),a("el-table",{staticStyle:{width:"95%"},attrs:{height:368,data:e.tableData}},[a("el-table-column",{attrs:{type:"selection",width:"70"}}),a("el-table-column",{attrs:{label:"教师号",prop:"teaId",width:"140",sortable:""}}),a("el-table-column",{attrs:{label:"性别",prop:"sex",width:"140"}}),a("el-table-column",{attrs:{label:"姓名",prop:"name",width:"140"}}),a("el-table-column",{attrs:{label:"职称",prop:"profession",width:"140"}}),a("el-table-column",{attrs:{label:"简介",prop:"info",width:"320"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定要删除当前教师吗？"},on:{confirm:function(a){return e.handleDelete(t.$index,t.row)}}},[a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-pagination",{staticStyle:{margin:"15px 0"},attrs:{layout:"total,  sizes,prev, pager, next, jumper",background:"","page-size":e.size,"current-page":e.pageNow,"page-sizes":[5,10,15,20,25],total:e.total},on:{"current-change":e.findPage,"size-change":e.findSize}})],1)],1),a("el-dialog",{attrs:{title:"教师信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"teaForm",attrs:{model:e.form,"label-suffix":" : ",rules:e.rules}},[a("el-form-item",{attrs:{label:"教师号",prop:"teaId","label-width":e.formLabelWidth,maxlength:"10","show-word-limit":""}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入教师号",disabled:e.isDisable},model:{value:e.form.teaId,callback:function(t){e.$set(e.form,"teaId",t)},expression:"form.teaId"}})],1),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio-button",{attrs:{label:"男"}}),a("el-radio-button",{attrs:{label:"女"}})],1)],1),a("el-form-item",{attrs:{label:"姓名",prop:"name","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入教师姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"职称",prop:"profession","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入教师职称"},model:{value:e.form.profession,callback:function(t){e.$set(e.form,"profession",t)},expression:"form.profession"}})],1),a("el-form-item",{attrs:{label:"简介","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:8,placeholder:"简介..."},model:{value:e.form.info,callback:function(t){e.$set(e.form,"info",t)},expression:"form.info"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.Reset}},[e._v("重 置")]),a("el-button",{attrs:{type:"primary"},on:{click:e.Submit}},[e._v("确 定")])],1)],1)],1)},i=[],o=a("ade3"),r=a("fe7b"),n={name:"TeacherManage",data:function(){var e;return e={dialogTableVisible:!1,dialogFormVisible:!1,isDisable:!1,isUpdate:!1,formLabelWidth:"100px",tableData:[],form:{sex:"男"},formInline:{sex:"男"},total:0,size:5,pageNow:1},Object(o["a"])(e,"formInline",{teaId:"",sex:"",name:"",profession:""}),Object(o["a"])(e,"rules",{teaId:[{required:!0,message:"请输入教师号!!",trigger:"blur"},{max:10,message:"长度不能超过10个数字!!",trigger:"blur"},{pattern:/^[0-9]+$/,message:"教师号只能是数字!!",trigger:"blur"}],name:[{required:!0,message:"请填写教师姓名!!",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z]+$/,message:"姓名只能是中/英文!!",trigger:"blur"}],profession:[{required:!0,message:"请填写教师职称!!",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z]+$/,message:"职称只能是中/英文!!",trigger:"blur"}]}),e},methods:{clickitem:function(e){var t=this;!0===this.flag&&(this.formInline.sex===e?this.formInline.sex="":this.formInline.sex=e),this.flag=!0,setTimeout((function(){t.flag=!1}),300)},handleDeleteAll:function(){},saveOrUpdate:function(){var e=this;this.isUpdate?Object(r["e"])(this.form).then((function(t){200===t.code?(e.$message({type:"success",message:t.msg}),e.findAllTableData(e.pageNow,e.size)):e.$message.error(t.code+"错误!"+t.msg),e.form={sex:"男"}})).catch((function(t){e.$message.error("404错误!请求更新教师信息失败！"),e.form={sex:"男"}})):Object(r["d"])(this.form).then((function(t){200===t.code?e.$message({type:"success",message:t.msg}):e.$message.error(t.code+"错误!"+t.msg),e.form={sex:"男"},e.findAllTableData(e.pageNow,e.size)})).catch((function(t){e.$message.error("404错误!请求添加教师信息失败！"),e.form={sex:"男"},e.findAllTableData(e.pageNow,e.size)}))},Reset:function(){this.form={sex:"男"}},saveTeaInfo:function(){this.dialogFormVisible=!0,this.form={},this.isDisable=!1,this.isUpdate=!1},Search:function(){this.findAllTableData(this.pageNow,this.size)},findSize:function(e){this.size=e,this.findAllTableData(this.pageNow,e)},findPage:function(e){this.pageNow=e,this.findAllTableData(e,this.size)},handleEdit:function(e,t){this.dialogFormVisible=!0,this.isDisable=!0,this.isUpdate=!0,this.form=t},handleDelete:function(e,t){var a=this;Object(r["a"])(t.teaId).then((function(e){a.$message({message:e.msg,type:"success"}),a.total-=1,a.total%a.size===0&&(a.pageNow-=1,a.pageNow=a.pageNow<1?1:a.pageNow),a.findAllTableData(a.page,a.size)})).catch((function(e){a.$message.error("404错误！")}))},findAllTableData:function(e,t){var a=this;e=e||this.pageNow,t=t||this.size,Object(r["c"])(e,t,this.formInline).then((function(e){200===e.code&&(a.tableData=e.data.list,a.total=e.data.total)})).catch((function(e){a.$message.error("404错误！")}))},Submit:function(){var e=this;this.$refs["teaForm"].validate((function(t){if(!t)return e.$message.error("当前输入的数据不合法!!"),!1;e.saveOrUpdate(),e.dialogFormVisible=!1}))}},created:function(){this.findAllTableData()}},s=n,c=a("2877"),f=Object(c["a"])(s,l,i,!1,null,"bf0c3542",null);t["default"]=f.exports},fe7b:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"e",(function(){return s}));var l=a("1bab");function i(e,t,a){return Object(l["a"])({url:"/teacher/findTeachers",method:"post",data:{pageNow:e,pageSize:t,teacher:a},timeout:5e3})}function o(){return Object(l["a"])({url:"/teacher/findAllTeachers",method:"get",timeout:5e3})}function r(e){return Object(l["a"])({url:"/teacher/insertTeaInfo",method:"post",data:e,timeout:5e3})}function n(e){return Object(l["a"])({url:"/teacher/deleteTeacherById",method:"get",params:{teaId:e},timeout:5e3})}function s(e){return Object(l["a"])({url:"/teacher/updateTeaInfo",method:"post",data:e,timeout:5e3})}}}]);
//# sourceMappingURL=chunk-1feccd18.dcb08e97.js.map