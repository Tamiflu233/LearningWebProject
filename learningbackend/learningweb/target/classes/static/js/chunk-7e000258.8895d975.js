(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e000258"],{4752:function(e,t,o){},"85a6":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"margin-left":"15px"},attrs:{id:"school-manage"}},[o("el-row",{staticClass:"manip-header",attrs:{type:"flex"}},[o("el-col",{attrs:{span:15}},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,size:"small"}},[o("el-form-item",{attrs:{label:"学院号"}},[o("el-input",{attrs:{clearable:"",placeholder:"请输入学院号",maxlength:"8","show-word-limit":""},model:{value:e.formInline.schoolId,callback:function(t){e.$set(e.formInline,"schoolId",t)},expression:"formInline.schoolId"}})],1),o("el-form-item",{attrs:{label:"学院名称"}},[o("el-input",{attrs:{clearable:"",placeholder:"请输入学院名称"},model:{value:e.formInline.schoolName,callback:function(t){e.$set(e.formInline,"schoolName",t)},expression:"formInline.schoolName"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.Search}},[e._v("查询")])],1)],1)],1),o("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:9}},[o("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:e.saveSchoolInfo}},[e._v("添加")]),o("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定要删除这些学院吗？"},on:{confirm:e.handleDeleteAll}},[o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",size:"small",type:"danger",round:""},slot:"reference"},[e._v("批量删除")])],1)],1)],1),o("el-table",{staticStyle:{width:"95%"},attrs:{height:368,data:e.tableData}},[o("el-table-column",{attrs:{type:"selection",width:"70"}}),o("el-table-column",{attrs:{label:"学院号",prop:"schoolId",width:"230",sortable:""}}),o("el-table-column",{attrs:{label:"学院名称",prop:"schoolName",width:"230"}}),o("el-table-column",{attrs:{label:"学院简介",prop:"info",width:"350"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini"},on:{click:function(o){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),o("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定要删除当前学院吗？"},on:{confirm:function(o){return e.handleDelete(t.$index,t.row)}}},[o("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-pagination",{staticStyle:{margin:"15px 0"},attrs:{layout:"total,  sizes,prev, pager, next, jumper",background:"","page-size":e.size,"current-page":e.pageNow,"page-sizes":[5,10,15,20,25],total:e.total},on:{"current-change":e.findPage,"size-change":e.findSize}})],1)],1),o("el-dialog",{attrs:{title:"学院信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"schoolForm",attrs:{model:e.form,"label-suffix":" : ",rules:e.rules}},[o("el-form-item",{attrs:{label:"学院号",prop:"schoolId","label-width":e.formLabelWidth,maxlength:"10","show-word-limit":""}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入学院号",disabled:e.isDisable},model:{value:e.form.schoolId,callback:function(t){e.$set(e.form,"schoolId",t)},expression:"form.schoolId"}})],1),o("el-form-item",{attrs:{label:"学院名称",prop:"schoolName","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入学院名称"},model:{value:e.form.schoolName,callback:function(t){e.$set(e.form,"schoolName",t)},expression:"form.schoolName"}})],1),o("el-form-item",{attrs:{label:"简介","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"textarea",resize:"none",rows:8,placeholder:"简介..."},model:{value:e.form.info,callback:function(t){e.$set(e.form,"info",t)},expression:"form.info"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.Reset}},[e._v("重 置")]),o("el-button",{attrs:{type:"primary"},on:{click:e.Submit}},[e._v("确 定")])],1)],1)],1)},l=[],i=o("ade3"),s=o("8a04"),r={name:"SchoolManage",data:function(){var e;return e={tableData:[],search:"",isDisable:!1,form:{},formInline:{schoolId:"",schoolName:""},rules:{schoolId:[{required:!0,message:"请输入学院号!!",trigger:"blur"},{max:8,message:"长度不能超过8个数字!!",trigger:"blur"},{pattern:/^[0-9]+$/,message:"学院号只能是数字!!",trigger:"blur"}],schoolName:[{required:!0,message:"请填写学院名称!!",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5_a-zA-Z]+$/,message:"学院名称只能是中/英文!!",trigger:"blur"}]},total:0,size:5,pageNow:1,refresh:!1,dialogTableVisible:!1,dialogFormVisible:!1},Object(i["a"])(e,"form",{schoolId:"",schoolName:"",info:""}),Object(i["a"])(e,"formLabelWidth","100px"),Object(i["a"])(e,"isUpdate",!1),e},methods:{findSize:function(e){this.size=e,this.findAllTableData(this.pageNow,e)},findPage:function(e){this.pageNow=e,this.findAllTableData(e,this.size)},handleEdit:function(e,t){this.dialogFormVisible=!0,this.isDisable=!0,this.isUpdate=!0,this.form=t},handleDelete:function(e,t){var o=this;Object(s["a"])(t.schoolId).then((function(e){o.$message({message:e.msg,type:"success"}),o.total-=1,o.total%o.size===0&&(o.pageNow-=1,o.pageNow=o.pageNow<1?1:o.pageNow),o.findAllTableData(o.page,o.size)})).catch((function(e){o.$message.error("404错误！")}))},handleDeleteAll:function(){console.log("删除这些玩意")},findAllTableData:function(e,t){var o=this;e=e||this.pageNow,t=t||this.size,Object(s["c"])(e,t,this.formInline).then((function(e){200===e.code&&(o.tableData=e.data.list,o.total=e.data.total)})).catch((function(e){o.$message.error("404错误！")}))},saveSchoolInfo:function(){this.dialogFormVisible=!0,this.form={},this.isDisable=!1,this.isUpdate=!1},Reset:function(){this.form={}},saveOrUpdate:function(){var e=this;this.isUpdate?Object(s["e"])(this.form).then((function(t){200===t.code?(e.$message({type:"success",message:t.msg}),e.findAllTableData(e.pageNow,e.size)):e.$message.error(t.code+"错误!"+t.msg),e.form={}})).catch((function(t){e.$message.error("404错误!请求更新学院失败！"),e.form={}})):Object(s["d"])(this.form).then((function(t){200===t.code?e.$message({type:"success",message:t.msg}):e.$message.error(t.code+"错误!"+t.msg),e.form={},e.findAllTableData(e.pageNow,e.size)})).catch((function(t){e.$message.error("404错误!请求插入学院失败！"),e.form={},e.findAllTableData(e.pageNow,e.size)}))},Submit:function(){var e=this;this.$refs["schoolForm"].validate((function(t){if(!t)return e.$message.error("当前输入的数据不合法!!"),!1;e.saveOrUpdate(),e.dialogFormVisible=!1}))},Search:function(){this.findAllTableData(this.pageNow,this.size)}},created:function(){this.findAllTableData()}},n=r,c=(o("9db4"),o("2877")),m=Object(c["a"])(n,a,l,!1,null,"0689dba0",null);t["default"]=m.exports},"8a04":function(e,t,o){"use strict";o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return s})),o.d(t,"d",(function(){return r})),o.d(t,"e",(function(){return n}));var a=o("1bab");function l(){return Object(a["a"])({url:"/school/findAllSchools",method:"get",timeout:5e3})}function i(e,t,o){return Object(a["a"])({url:"/school/findSpecificSchools",method:"post",data:{pageNow:e,pageSize:t,schools:o},timeout:5e3})}function s(e){return Object(a["a"])({url:"/school/deleteSchoolById",method:"get",params:{schoolId:e},timeout:5e3})}function r(e){return Object(a["a"])({url:"/school/insertSchool",method:"post",data:e,timeout:5e3})}function n(e){return Object(a["a"])({url:"/school/updateSchool",method:"post",data:e,timeout:5e3})}},"9db4":function(e,t,o){"use strict";o("4752")}}]);
//# sourceMappingURL=chunk-7e000258.8895d975.js.map