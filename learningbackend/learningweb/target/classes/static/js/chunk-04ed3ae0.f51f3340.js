(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04ed3ae0"],{1371:function(t,e,s){},"25f0":function(t,e,s){"use strict";var n=s("6eeb"),a=s("825a"),o=s("d039"),i=s("ad6d"),r="toString",c=RegExp.prototype,l=c[r],u=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=r;(u||f)&&n(RegExp.prototype,r,(function(){var t=a(this),e=String(t.source),s=t.flags,n=String(void 0===s&&t instanceof RegExp&&!("flags"in c)?i.call(t):s);return"/"+e+"/"+n}),{unsafe:!0})},"30bb":function(t,e,s){"use strict";s("1371")},"44e7":function(t,e,s){var n=s("861d"),a=s("c6b6"),o=s("b622"),i=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},"4d63":function(t,e,s){var n=s("83ab"),a=s("da84"),o=s("94ca"),i=s("7156"),r=s("9bf2").f,c=s("241c").f,l=s("44e7"),u=s("ad6d"),f=s("9f7f"),d=s("6eeb"),p=s("d039"),m=s("69f3").set,h=s("2626"),g=s("b622"),b=g("match"),v=a.RegExp,y=v.prototype,x=/a/g,q=/a/g,I=new v(x)!==x,w=f.UNSUPPORTED_Y,_=n&&o("RegExp",!I||w||p((function(){return q[b]=!1,v(x)!=x||v(q)==q||"/a/i"!=v(x,"i")})));if(_){var C=function(t,e){var s,n=this instanceof C,a=l(t),o=void 0===e;if(!n&&a&&t.constructor===C&&o)return t;I?a&&!o&&(t=t.source):t instanceof C&&(o&&(e=u.call(t)),t=t.source),w&&(s=!!e&&e.indexOf("y")>-1,s&&(e=e.replace(/y/g,"")));var r=i(I?new v(t,e):v(t,e),n?this:y,C);return w&&s&&m(r,{sticky:s}),r},k=function(t){t in C||r(C,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},S=c(v),F=0;while(S.length>F)k(S[F++]);y.constructor=C,C.prototype=y,d(a,"RegExp",C)}h("RegExp")},7156:function(t,e,s){var n=s("861d"),a=s("d2bb");t.exports=function(t,e,s){var o,i;return a&&"function"==typeof(o=e.constructor)&&o!==s&&n(i=o.prototype)&&i!==s.prototype&&a(t,i),t}},"90b9":function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));s("4d63"),s("ac1f"),s("25f0"),s("5319");var n=function(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var n in s)if(new RegExp("(".concat(n,")")).test(e)){var o=s[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?o:a(o))}return e};function a(t){return("00"+t).substr(t.length)}},f20d:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"lesson-questions"}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix title",attrs:{slot:"header"},slot:"header"},[s("span",[t._v(t._s("课程名称："+t.lessonInfo.lessonName))])]),s("div",{staticClass:"detail"},[s("el-tag",{staticClass:"schoolId",staticStyle:{display:"inline-block"},attrs:{type:"primary",size:"medium"}},[t._v(" "+t._s("开课学院: "+t.schoolName)+" ")]),s("el-tag",{staticClass:"lessonId",staticStyle:{display:"block"},attrs:{type:"success",size:"medium"}},[t._v(" "+t._s("课程号: "+t.lessonInfo.lessonId)+" ")]),s("el-tag",{staticClass:"info",staticStyle:{display:"block"},attrs:{type:"info",size:"medium"}},[t._v(" "+t._s("课程简介: "+t.lessonInfo.info)+" ")])],1),s("img",{staticClass:"lesson-img",attrs:{src:"https://p.ananas.chaoxing.com/star3/270_160c/6ce77a10dd3268daa7ba6c93e5e76459.jpg",alt:""}})]),s("el-card",{staticClass:"question-form clearfix",attrs:{"body-style":{padding:"0px"}}},[s("el-form",{ref:"questionForm",staticClass:"clearfix",attrs:{model:t.questionForm,rules:t.rules}},[s("el-form-item",{staticClass:"form-options",attrs:{prop:"teaId"}},[s("el-select",{attrs:{filterable:"",placeholder:"请选择提问教师",clearable:""},model:{value:t.questionForm.teaId,callback:function(e){t.$set(t.questionForm,"teaId",e)},expression:"questionForm.teaId"}},t._l(t.teaOptions,(function(t){return s("el-option",{key:t.teaId,attrs:{label:t.teaId+"-"+t.name,value:t.teaId}})})),1)],1),s("el-form-item",{staticClass:"form-title",attrs:{prop:"title"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"请填写标题",clearable:""},model:{value:t.questionForm.title,callback:function(e){t.$set(t.questionForm,"title",e)},expression:"questionForm.title"}})],1),s("el-form-item",{staticClass:"form-input"},[s("el-col",{attrs:{span:23}},[s("el-input",{staticClass:"form-textarea",attrs:{type:"textarea",prop:"content",resize:"none",rows:8,placeholder:"提问..."},model:{value:t.questionForm.content,callback:function(e){t.$set(t.questionForm,"content",e)},expression:"questionForm.content"}})],1)],1)],1),s("div",{staticClass:"form-footer"},[s("el-button",{on:{click:t.Reset}},[t._v("重 置")]),s("el-button",{attrs:{type:"primary"},on:{click:t.Submit}},[t._v("发 布")])],1)],1),s("el-row",{staticStyle:{"margin-top":"10px"}},t._l(t.questionList,(function(e,n){return s("el-col",{key:n,attrs:{span:24}},[s("el-card",{staticClass:"question-card",attrs:{"body-style":{padding:"0px"}}},[s("div",{staticStyle:{padding:"14px"}},[s("div",{staticClass:"question-title"},[t._v(t._s("提问: "+e.title))]),null===e.isAnswered?s("el-tag",{staticClass:"not-answered",attrs:{type:"danger"}},[t._v("未解答")]):t._e(),s("div",{staticClass:"bottom clearfix"},[s("div",{staticClass:"nickname"},[s("img",{staticClass:"user-avatar",attrs:{src:t.avatarUrl,alt:""}}),s("span",{staticClass:"nicktext"},[t._v(t._s(e.nickname))])]),s("div",{staticClass:"publish-date"},[s("i",{staticClass:"el-icon-time"}),s("span",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(e.publishDate)))])]),s("el-button",{staticClass:"button",attrs:{type:"text"},nativeOn:{click:function(s){return s.preventDefault(),t.SearchDetail(e)}}},[t._v("查看详情")])],1)],1)])],1)})),1),s("el-row",[s("el-col",{attrs:{span:12}},[s("el-pagination",{staticStyle:{margin:"15px 0"},attrs:{layout:"total,  sizes,prev, pager, next, jumper",background:"","page-size":t.size,"current-page":t.pageNow,"page-sizes":[5,10,15,20,25],total:t.total},on:{"current-change":t.findPage,"size-change":t.findSize}})],1)],1)],1)},a=[],o=s("5530"),i=s("f1b9"),r=s.n(i),c=s("2f62"),l=s("90b9"),u=s("1bab");function f(t){return Object(u["a"])({url:"/school/findSchoolById",method:"get",params:{schoolId:t},timeout:5e3})}function d(t,e,s,n,a){return Object(u["a"])({url:"/question/findQuestions",method:"get",params:{pageNow:t,pageSize:e,lessonId:s,teaId:n,schoolId:a},timeout:5e3})}function p(t){return Object(u["a"])({url:"/question/addQuestion",method:"post",data:t,timeout:5e3})}function m(t){return Object(u["a"])({url:"teacher/findTeachersByLesson",method:"get",params:{lessonId:t},timeout:5e3})}var h={name:"LessonQuestions",data:function(){return{avatarUrl:r.a,schoolName:"",questionList:[],questionForm:{},total:0,size:5,pageNow:1,rules:{teaId:[{required:!0,message:"请选择教师!!",trigger:"blur"}],title:[{required:!0,message:"请输入标题!!",trigger:"blur"}],content:[{required:!0,message:"请输入内容!!",trigger:"blur"}]},teaOptions:[]}},filters:{formatDate:function(t){var e=new Date(t);return Object(l["a"])(e,"yyyy-MM-dd hh:mm")}},computed:Object(o["a"])({},Object(c["c"])(["lessonInfo","username","nickname"])),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["saveQuestion","saveAnswer"])),{},{SearchDetail:function(t){this.saveQuestion({question:t}),this.saveAnswer({answer:t.answer}),this.$router.push("questiondetail")},Reset:function(){this.questionForm={}},save:function(){var t=this;this.questionForm.lessonId=this.lessonInfo.lessonId,this.questionForm.username=this.username,this.questionForm.nickname=this.nickname,p(this.questionForm).then((function(e){200===e.code?t.$message({type:"success",message:e.msg}):t.$message.error(e.code+"错误!"+e.msg),t.form={},t.findAllQuestions(t.pageNow,t.size)})).catch((function(e){t.$message.error("404错误!请求发布提问失败！"),t.form={},t.findAllQuestions(t.pageNow,t.size)}))},Submit:function(){var t=this;this.$refs["questionForm"].validate((function(e){if(!e)return t.$message.error("当前输入的数据不合法!!"),!1;t.save(),t.questionForm={}}))},findSize:function(t){this.size=t,this.findAllQuestions(this.pageNow,t)},findPage:function(t){this.pageNow=t,this.findAllQuestions(t,this.size)},initTeaOptions:function(){var t=this;m(this.lessonInfo.lessonId).then((function(e){t.teaOptions=e.data})).catch((function(t){console.log("授课教师获取失败！")}))},initSchoolName:function(){var t=this;f(this.lessonInfo.schoolId).then((function(e){200==e.code?t.schoolName=e.data.schoolName:t.schoolName="未知"})).catch((function(e){t.schoolName="未知"}))},findAllQuestions:function(t,e){var s=this;t=t||this.pageNow,e=e||this.size,d(t,e,this.lessonInfo.lessonId,null,null).then((function(t){200===t.code?(s.questionList=t.data.list,s.total=t.data.total):console.log("失败")})).catch((function(t){s.$message.error("404错误！")}))}}),created:function(){this.initSchoolName(),this.findAllQuestions(),this.initTeaOptions()}},g=h,b=(s("30bb"),s("2877")),v=Object(b["a"])(g,n,a,!1,null,"0cbaf598",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-04ed3ae0.f51f3340.js.map